<!DOCTYPE html>
<html>

    <head>
        <title> Vue.js Show Lesson </title>
        <!-- <script src="https://unpkg.com/vue"></script> -->
        <script src="https://cdn.jsdelivr.net/npm/vue@2.6.14/dist/vue.js"></script>
        <link rel="stylesheet" href="style/style.css">
        <!-- <link href="bootstrap-3.3.7-dist/css/bootstrap.min.css" rel="stylesheet"> -->
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" 
        integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css">

    </head>

    <body >
      
        <div id="app"> 
            <header>
                <h1 v-text="sitename"></h1>
                
            </header>
            <div v-if='showProduct'>
                <!-- this is the search bar and cart button. the cart button only enables if the is something in the cart -->
                <input type="text" v-model="searchBar" placeholder="Search" v-on:keyup="filterLesson()"/>
            <button :disabled=cart.length==0 class="basket" @click='showCheckout'> {{this.cart.length}} <span
                class="fas fa-cart-plus"></span>cart</button>

                <!--acending and  decending options  "sort.attributes" will contain the "value"-->
                <input type="radio" v-on:click="sortLow(sort.attributes)" id="decending" value="decending"
                v-model="sort.option">
                <label for="acending">acending</label>
                    <input type="radio" v-on:click="sortHigh(sort.attributes)" id="acending" value="acending" v-model="sort.option">
                    <label for="acending">decending</label>

                    <!-- this shows what you wanna sort by -->
                <input type="radio" v-on:change=norml(sort.option) id="spaces" value="spaces"
                        v-model="sort.attributes">
                    <label for="spaces">space</label>
                <input type="radio" v-on:change=norml(sort.option) id="price" value="price"
                        v-model="sort.attributes">
                    <label for="price">price</label>
                    <input type="radio" v-on:change=norml(sort.option) id="locations" value="locations"
                        v-model="sort.attributes">
                    <label for="locations">Location</label>
                    <input type="radio" v-on:change=norml(sort.option) id="title" value="title"
                        v-model="sort.attributes">
                    <label for="title">title</label>

                    <!-- here we using filteredProducts(this.lessons) for the search and copying the results into "lesson". the index shows specific lessons-->
            <div id="cards "class ="box_lesson" v-for="(lesson,index) in lessons">
                <img class= "icon_image" v-bind:src="lesson.image">
                <h2 class="lessons_title" >Subject: {{lesson.topic}}</h2>
                <p class="lessons_location" >Location: {{lesson.location}}</p>
                <p class="lessons_price" >Price: £{{lesson.price}}</p>
                <p class="lessons_space" >Spaces: {{lesson.space}}</p>
                <button :disabled=lesson.space==0 type="button" class="add_to_cart" v-on:click="addToCart(lesson)" ><span class="fas fa-cart-plus"></span>Add To Cart</button>
            </div>
        </div>

        <!-- cart page -->
        <div v-else>
            <!-- checkout section -->
            <h2>Checkout</h2>

            <!-- name text box-->
                <p>
                    <strong>Name:</strong>
                    <input v-model="name" type="text"/>
                </p>

                <!-- phone text box. this doesnt read and spaces. just numbers because "v-model.trim"-->
                <p>
                <strong>Phone number</strong>
                <input v-model.trim="phone" type="text">
            </p>
            <!-- disable buttons if nothing is in the name and phone input -->
            <button :disabled="!(name.length>0 && check_phone(phone))" v-on:click="submitForm">Checkout</button>

            <!-- cart button to go back to main page -->
            <button class="basket" @click='showCheckout'> {{this.cart.length}} <span
                class="fas fa-cart-plus"></span>cart</button>
                <!-- loops through cart array and displays it -->
                <div id="cards "class ="box_lesson" v-for="x in cart" :key="cart.topic">
                    
                        <img class= "icon_image" v-bind:src='x.image'>
                        <h2 v-text='x.topic'></h2>
                        <p>Location: {{x.location}}</p>
                        <p>Space: {{x.space}}</p>
                        <p> Price: £{{x.price}}</p>
                        <button class="add_to_cart" v-on:click="removeCart()"> remove to cart </button>
                    
                </div>
        </div>
        </div>
        

        <!-- <script src="src/lessons.js"></script> -->
        <script src="src/vue.js"></script>
    </body>
</html>
